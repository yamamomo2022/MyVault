# TODO
- [ ] 認証の再実装
	- [ ] 設定画面の実装
	- [ ] 端末認証の再実装
	- [ ] Firebase Authentication を実装


# 認証関係の実装について
## 方針
Firebase SDK でtoken リフレッシュとかでユーザーの認証状況を確認して、匿名認証に移ることとする。
1. currentUser をチェック
2. currentUser != null なら、続行
3. currentUser == null なら、authStateChanges
4. 認証継続であれば、続行
5. 認証が途切れていれば、一旦匿名認証
6. ユーザーの任意で匿名から認証へと移行
7. あるいは、ログイン

匿名認証しておかないと、Genkitが使えないので、一旦匿名認証アカウントが大量に生成されることには目を瞑る。
Go_Routorとfirebase authの連携を実装してみたいが、一旦保留。
タスクをうまく分離できていない気がする。PRでかいぞ！
Flutterを最新にして、mcpの恩恵を享受したい。
認証のついでにデータをriverpodに移行したので、その修正を行わないといけなくなった。

## Reference
 - https://qiita.com/KosukeSaigusa/items/b19ec19379c5a2e4ceb2
	 - kosukeさんの記事
 - https://zenn.dev/cloud_ace/articles/firebase-anonymous-auth-best-practices
	 - cobo さんの記事　匿名認証のベストプラクティス
 - https://firebase.google.com/docs/auth/flutter/manage-users
	 - 公式のユーザー認証の管理について
 - https://pub.dev/packages/firebase_ui_auth
	 - go-routor使わずにそれっぽいことしている。
 - 

# memo
- stream は時間の流れに従って派生する値の列。TCPってことか？